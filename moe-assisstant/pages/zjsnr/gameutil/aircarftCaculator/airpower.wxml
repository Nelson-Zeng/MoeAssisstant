<view class="root">
	<view class="title">请填入己方舰载机数据：</view>
	<view class="aircraft-container">
		<view class="own-aircraft" wx:for="{{aircrafts}}" wx:for-item="aircraft" wx:for-index="outerIndex" wx:key="outerIndex">
			<view class="aircraft" wx:for="{{aircraft}}" wx:for-index="innerIndex" wx:key="innerIndex" bindtap="onItemClick" data-index="[{{outerIndex}},{{innerIndex}}]">
				<view class="count">放飞:<input class="flight-input" value="{{item.count}}" type="number" /></view>
				<view class="antiaircraft">对空:<input class="value-input" value="{{item.value}}" type="number" /></view>
			</view>
			<view class="add" wx:if="{{outerIndex < 5}}" bindtap="onAddClick"><text>+</text></view>
			<view class="remove" wx:if="{{outerIndex !== 0}}" bindtap="onRemoveClick"><text>-</text></view>
		</view>
	</view>
  <view class="dividing" />
  <view class="title">请填入敌方对空数据：</view>
  <view class="enemy-container">
    <view class="enemy-info" wx:for="{{enemyInfo}}" wx:key="index">
      <input class="value" type="number" value="{{item}}" bindinput="onEnemyInput" data-index="{{index}}"/>
      <view class="remove-icon" catchtap="onEnemyRemoved" data-index="{{index}}" wx:if="{{index > 0}}"><text>-</text></view>
    </view>
    <view class="add-enemy" bindtap="onEnemyAdded">增加</view>
  </view>
  <view class="dividing" />
  <view class="caculating-button" bindtap="onCaculatingClick">计算结果</view>

	<view class="mask" wx:if="{{showShipSelection}}">
		<view class="dialog">
			<view class="input-item">
				<view class="title">请选择要加入的舰船类型：</view>
				<picker range="{{shipTypeOptions}}" range-key="name" value="{{shipTypeKey}}" bindchange="onShipTypeSelected">
					<view class="display">{{shipTypeOptions[shipTypeKey].name}}</view>
				</picker>
			</view>
			<view class="input-item">
				<view class="title">请选择要加入的舰船火力（输入后无法更改，请注意）：</view>
				<input class="power-input" value="{{shipPower}}" bindinput="onShipPowerInput" type="number"></input>
			</view>
			<view class="help-text">通过火力生成默认放飞数，之后也可手动调整</view>
			<view class="anti-input" wx:for="{{flightAntiValues}}" wx:key="index">
				<view class="title">请输入{{index + 1}}号位飞机对空值</view>
				<input class="input" value="{{item}}" bindinput="onAntiValueInput" data-index="{{index}}" type="number"></input>
			</view>
			<view class="footer">
				<button class="button" bindtap="onPowerCancelClick" size="mini">取消</button>
				<button class="button" type="primary" bindtap="onPowerConfirmClick" size="mini">确认</button>
			</view>
		</view>
	</view>
</view>